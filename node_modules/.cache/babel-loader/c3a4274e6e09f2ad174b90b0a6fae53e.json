{"ast":null,"code":"import _objectSpread from\"/home/gich/React/Task-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/gich/React/Task-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/gich/React/Task-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gich/React/Task-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gich/React/Task-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{BrowserRouter as Router,Route}from'react-router-dom';import Footer from'./components/Footer';import Header from'./components/Header';import Tasks from'./components/Tasks';import AddTask from'./components/AddTask';import About from'./components/About';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAddTask=_useState2[0],setShowAddTask=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];useEffect(function(){var getTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var taskFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:taskFromServer=_context.sent;setTasks(taskFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTasks(){return _ref.apply(this,arguments);};}();getTasks();},[]);//Fetch tasks\nvar fetchTasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:5000/tasks');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchTasks(){return _ref2.apply(this,arguments);};}();//Fetch tasks\nvar fetchTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id));case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchTask(_x){return _ref3.apply(this,arguments);};}();//Display the add form\nvar onClick=function onClick(){!showAddTask?setShowAddTask(true):setShowAddTask(false);};// Add Task\nvar addTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(task){var res,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:5000/tasks',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(task)});case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:data=_context4.sent;setTasks([].concat(_toConsumableArray(tasks),[data]));// const id = Math.floor(Math.random() * 10000) + 1\n// const newTask = { id, ...task }\n// setTasks([...tasks, newTask])\ncase 7:case\"end\":return _context4.stop();}}},_callee4);}));return function addTask(_x2){return _ref4.apply(this,arguments);};}();// delete enteries on the ui\nvar deleteTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:'DELETE'});case 2:setTasks(tasks.filter(function(task){return task.id!==id;}));case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteTask(_x3){return _ref5.apply(this,arguments);};}();// Set the reminder to true or false\nvar toggleReminder=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var taskToToggle,updatedTask,res,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetchTask(id);case 2:taskToToggle=_context6.sent;updatedTask=_objectSpread(_objectSpread({},taskToToggle),{},{reminder:!taskToToggle.reminder});_context6.next=6;return fetch('http://localhost:5000/tasks',{method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(updatedTask)});case 6:res=_context6.sent;_context6.next=9;return res.json();case 9:data=_context6.sent;setTasks(tasks.map(function(task){return task.id===id?_objectSpread(_objectSpread({},task),{},{reminder:data.reminder}):task;}));case 11:case\"end\":return _context6.stop();}}},_callee6);}));return function toggleReminder(_x4){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{onClick:onClick,showAdd:showAddTask}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[showAddTask&&/*#__PURE__*/_jsx(AddTask,{onAdd:addTask}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleReminder}):'No tasks to show']});}}),/*#__PURE__*/_jsx(Route,{path:\"/about\",component:About})]})});};export default App;","map":{"version":3,"sources":["/home/gich/React/Task-Tracker/src/App.js"],"names":["useState","useEffect","BrowserRouter","Router","Route","Footer","Header","Tasks","AddTask","About","App","showAddTask","setShowAddTask","tasks","setTasks","getTasks","fetchTasks","taskFromServer","fetch","res","json","data","fetchTask","id","onClick","addTask","task","method","headers","body","JSON","stringify","deleteTask","filter","toggleReminder","taskToToggle","updatedTask","reminder","map","props","length"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react'\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\nimport Footer from './components/Footer'\nimport Header from './components/Header'\nimport Tasks from './components/Tasks'\nimport AddTask from './components/AddTask'\nimport About from './components/About'\n\n\nconst App = () => {\n  const [showAddTask, setShowAddTask] = useState(false)\n  const [tasks, setTasks] = useState([]) \n      \n  useEffect(() => {\n    const getTasks = async () => {\n      const taskFromServer = await fetchTasks()\n      setTasks(taskFromServer)\n     }\n     getTasks()\n  },\n   [])\n//Fetch tasks\nconst fetchTasks = async () =>{\n  const res = await fetch('http://localhost:5000/tasks')\n  const data =  await res.json()\n\n  return data\n}\n\n//Fetch tasks\nconst fetchTask = async (id) =>{\n  const res = await fetch(`http://localhost:5000/tasks/${id}`)\n  const data =  await res.json()\n\n  return data\n}\n\n  //Display the add form\n  const onClick = ()=>{\n    !showAddTask ?  setShowAddTask(true) : setShowAddTask(false)\n\n  }\n\n  // Add Task\n  const addTask = async (task) => {\n    const res = await fetch('http://localhost:5000/tasks', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify(task),\n    })\n\n    const data = await res.json()\n\n    setTasks([...tasks, data])\n\n    // const id = Math.floor(Math.random() * 10000) + 1\n    // const newTask = { id, ...task }\n    // setTasks([...tasks, newTask])\n  }\n  // delete enteries on the ui\n  const deleteTask = async (id)=>{\n    await fetch(`http://localhost:5000/tasks/${id}`,\n    {method : 'DELETE',})\n    setTasks(tasks.filter((task)=> task.id !==id))\n  }\n\n  // Set the reminder to true or false\n  const toggleReminder = async (id) =>{\n    const taskToToggle = await fetchTask(id)\n    const updatedTask = {...taskToToggle, reminder:!taskToToggle.reminder}\n\n    const res = await fetch('http://localhost:5000/tasks', {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify(updatedTask),\n    })\n\n    const data = await res.json()\n    setTasks(\n    tasks.map((task) => \n    task.id === id ? {...task, reminder:data.reminder} \n    : task)\n    )\n  }\n  \n\n  return (\n    <Router>\n    <div className=\"container\">\n      <Header onClick = {onClick} showAdd = {showAddTask}/>\n\n      <Footer/>\n      <Route path = '/' exact render = {(props)=>(\n      <>\n      {showAddTask && <AddTask onAdd = {addTask}/>}\n      {tasks.length > 0 ? (\n      <Tasks tasks={tasks}\n             onDelete = {deleteTask}\n             onToggle = {toggleReminder}/>)\n       : ('No tasks to show')\n      }\n        </>\n      )}/>\n      <Route path='/about' component={About}/>\n    </div>\n    </Router>\n  );\n}\n\nexport default App\n\n"]},"metadata":{},"sourceType":"module"}